<!DOCTYPE html>



<html lang="en-us" data-theme="">
<head>
	<meta name="generator" content="Hugo 0.110.0">
    
        
<meta charset="utf-8">
<meta name="HandheldFriendly" content="True">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer-when-downgrade">

<title>Thoughts from Alan</title>
<meta name="description" content="">

<link rel="alternate" type="application/rss+xml" href="https://alanwu.space/index.xml" title="Thoughts from Alan" />
<link rel="icon" type="image/png" href="https://alanwu.space/favicon.png">
<link rel="apple-touch-icon-precomposed" href="https://alanwu.space/favicon.png">



    





    
    
    

    
        <link rel="stylesheet" href="https://alanwu.space/css/style.e5ec8e96139fb72189ec799ef6fa88ee336396e113a051759e0ec060eadb5ecf.css" integrity="sha256-5eyOlhOftyGJ7Hme9vqI7jNjluEToFF1ng7AYOrbXs8=">
    







<meta property="og:title" content="Thoughts from Alan" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://alanwu.space/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Thoughts from Alan"/>
<meta name="twitter:description" content=""/>











    
</head>
<body>
    <a class="skip-main" href="#main">Skip to main content</a>
    <div class="container">
        <header class="common-header"> 
            
                <h1 class="site-title">
    <a href="/">Thoughts from Alan</a>
</h1>

    <nav></nav>



            
        </header>
        <main id="main" tabindex="-1"> 
            
    <div class="homepage-content">
        
    </div>

    <div class="articles h-feed">
        
        
            <article class="post-list h-feed">
    <header class="post-header">
        <h1 class="p-name post-title"><a class="u-url" href="/post/symbol-hygiene/">Linking Rust and C: Practicing Symbol Hygiene</a></h1>
    </header>

    <div class="content post-summary p-summary">
        This is a post about the bits and pieces I learned while trying to fix a symbol leakage problem for YJIT-enabled Ruby. The symbols I&rsquo;m talking about are the labels in object, executable, and shared library files that help linkers work.
Thinking back to my first few contacts with linkers, I found them somewhat mysterious. I think this is because I get errors from compilers more frequently than from linkers.
    </div>
    
    
    


<div class="post-info">
    
        <div class="post-date dt-published">2023-02-14</div>
    
    
    <a class="post-hidden-url u-url" href="https://alanwu.space/post/symbol-hygiene/">https://alanwu.space/post/symbol-hygiene/</a>
    <div class="post-hidden-author p-author"></div>

    <div class="post-taxonomies">
        
            
    </div>
</div>

</article>
        
            <article class="post-list h-feed">
    <header class="post-header">
        <h1 class="p-name post-title"><a class="u-url" href="/post/strict-aliasing/">How I think about C99 strict aliasing rules</a></h1>
    </header>

    <div class="content post-summary p-summary">
        Recently I was asked how I review C99 code for problems that arise from failing to follow the so called &ldquo;strict aliasing rules&rdquo;. I struggled to answer, so I thought I would write a post to hopefully make my explanation more coherent.
The strict aliasing rules can be surprising because the way optimizers take advantage of them doesn&rsquo;t mesh well with the popular belief that pointers are &ldquo;just numbers&rdquo;. Ultimately, I think there are practical benefits to understanding the rules even if you disagree with them.
    </div>
    
    
    


<div class="post-info">
    
        <div class="post-date dt-published">2022-05-23</div>
    
    
    <a class="post-hidden-url u-url" href="https://alanwu.space/post/strict-aliasing/">https://alanwu.space/post/strict-aliasing/</a>
    <div class="post-hidden-author p-author"></div>

    <div class="post-taxonomies">
        
            
    </div>
</div>

</article>
        
            <article class="post-list h-feed">
    <header class="post-header">
        <h1 class="p-name post-title"><a class="u-url" href="/post/write-barrier/">Write barriers and an old Ruby bug</a></h1>
    </header>

    <div class="content post-summary p-summary">
        Learn about the role write barriers play in garbage collection algorithms through CRuby&rsquo;s implementation and example animations.
    </div>
    
    
    


<div class="post-info">
    
        <div class="post-date dt-published">2021-07-22</div>
    
    
    <a class="post-hidden-url u-url" href="https://alanwu.space/post/write-barrier/">https://alanwu.space/post/write-barrier/</a>
    <div class="post-hidden-author p-author"></div>

    <div class="post-taxonomies">
        
            
    </div>
</div>

</article>
        
            <article class="post-list h-feed">
    <header class="post-header">
        <h1 class="p-name post-title"><a class="u-url" href="/post/check-compaction/">Checking Ruby C extensions for object movement crashes</a></h1>
    </header>

    <div class="content post-summary p-summary">
        This guide intends to help Ruby native extension maintainers upgrade libraries to be compatible with GC.compact. Application developers can also use this guide to check applications for compaction compatibility. At the time of writing, the latest Ruby release is version 3.0.0.
Using automated tests to surface crashes If your test suite runs under Ruby 2.7.0 or newer, it is possible to check for compaction crashes with a small addition to your test suite.
    </div>
    
    
    


<div class="post-info">
    
        <div class="post-date dt-published">2021-01-26</div>
    
    
    <a class="post-hidden-url u-url" href="https://alanwu.space/post/check-compaction/">https://alanwu.space/post/check-compaction/</a>
    <div class="post-hidden-author p-author"></div>

    <div class="post-taxonomies">
        
            
    </div>
</div>

</article>
        
            <article class="post-list h-feed">
    <header class="post-header">
        <h1 class="p-name post-title"><a class="u-url" href="/post/k-type/">Hotkeys For Programmable Keyboards</a></h1>
    </header>

    <div class="content post-summary p-summary">
        I have a K-Type, which is a programmable keyboard that lets me configure custom hotkeys. The configurations live with and on the keyboard, which is neat. Among other things, this lets my configuration work across different operating systems.
My current configuration has several navigation hotkeys that activate with the CAPSLOCK key. CAPSLOCK+{j,k,l,;} send arrow keys, in a way similar to Vim&rsquo;s default normal mode bindings. CAPSLOCK+{i,n} gives page up and down, while CAPSLOCK+{h,quote} sends HOME and END.
    </div>
    
    
    


<div class="post-info">
    
        <div class="post-date dt-published">2020-12-24</div>
    
    
    <a class="post-hidden-url u-url" href="https://alanwu.space/post/k-type/">https://alanwu.space/post/k-type/</a>
    <div class="post-hidden-author p-author"></div>

    <div class="post-taxonomies">
        
            
    </div>
</div>

</article>
        
            <article class="post-list h-feed">
    <header class="post-header">
        <h1 class="p-name post-title"><a class="u-url" href="/post/my-compiler/">My Compiler</a></h1>
    </header>

    <div class="content post-summary p-summary">
        The first commit I made for my compiler was in 2016, it read &ldquo;Here&rsquo;s hoping I get this done in time&rdquo;. I&rsquo;m not sure if I met the deadline that message was referring to, but the compiler is certainly &ldquo;done&rdquo; now.
Of course, no one in the right mind would use the compiler for anything serious, but the compiler compiles code, and I&rsquo;ve made a simple graphical app launcher using it.
    </div>
    
    
    


<div class="post-info">
    
        <div class="post-date dt-published">2019-01-20</div>
    
    
    <a class="post-hidden-url u-url" href="https://alanwu.space/post/my-compiler/">https://alanwu.space/post/my-compiler/</a>
    <div class="post-hidden-author p-author"></div>

    <div class="post-taxonomies">
        
            
    </div>
</div>

</article>
        
        

    </div>


        </main>
        <footer class="common-footer"></footer>
    </div>
</body>
</html>
